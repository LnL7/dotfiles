fmount() {
  local filesystem
  filesystem=$(zfs list -oname,used,available,referenced,mounted,mountpoint | fzf --header-lines=1 +s +m | awk '{print $1}') &&
  case "$(zfs get -H -ovalue mounted $filesystem)" in
    no)
      sudo zfs mount "$filesystem"
      ;;
  esac &&
  cd "$(zfs list -H -omountpoint $filesystem)"
}

funmount() {
  local filesystem
  filesystem=$(zfs list -oname,used,available,referenced,mounted,mountpoint | sed -n 's/      yes//p; s/  MOUNTED//p' | fzf --header-lines=1 +s +m | awk '{print $1}') &&
  zfs unmount "$filesystem"
}

# vim:set ft=zsh:
