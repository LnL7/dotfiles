# vim:set ft=sh:

tenv () {
  local name

  if ! test -z "$TMUX"; then
    return 1
  fi

  name=$(hostname -s | head -c7 | awk '{print tolower($0)}')
  if ! (tmux has -t "$name" &> /dev/null); then
    ( tmux start-server ) || return
    ( tmux new-session -d -s "$name" ) || return
  fi
  exec tmux attach-session -t "$name"
}

tssh () {
  if test -z "$TMUX"; then
    return 1
  fi

  ( tmux set prefix M-b ) || return
  exec "$@"
}
